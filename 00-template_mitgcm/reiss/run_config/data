# Model parameters
# Continuous equation parameters
 &PARM01
 tRef=
    !initial_temperature!
 sRef=
    !initial_salt!
# Horizontal viscosity / diffusivity
# see http://mitgcm.org/pipermail/mitgcm-support/2010-January/006439.html
 diffKhT=1.0E-3,
 viscC2Smag=0.3,
 viscA4Grid=0.03,
 usejamartwetpoints=.TRUE.,
 vectorInvariantMomentum=.TRUE.,
 highOrderVorticity=.TRUE.,
 useEnergyConservingCoriolis=.TRUE.,
###
# Vertical viscosity / diffusivity
 viscAz=1.0E-6,
 diffKzT=1.0E-7,
 implicitViscosity=.TRUE.,
 implicitDiffusion=.TRUE.,
# NHS => explicit
# HS => implicit
 nonHydrostatic=.FALSE.,
###
 f0=1.05e-4,
 beta=0.E-11,
 selectCoriMap=0,
 gravity=9.81,
# free surface
 rigidLid=.FALSE.,
 implicitFreeSurface=.TRUE.,
 exactConserv=.TRUE.,
 hFacMin=0.2,
 hFacInf=0.2,
 hFacSup=2.0,
 nonlinFreeSurf=4,
 select_rStar=2,
 useRealFreshWaterFlux=.FALSE.,
# for avoiding dumping of surface waves
# unconditionally stable
# http://mitgcm.org/sealion/online_documents/node40.html
 implicSurfPress=0.5,
 implicDiv2DFlow=0.5,
# drag
 allowFreezing=.FALSE.,
 no_slip_sides=.FALSE.,
 no_slip_bottom=.TRUE.,
 bottomDragQuadratic=2.5E-3,
#sideDragFactor=2,
 eosType='MDJWF',
 readBinaryPrec=64,
# SOM, see Hill 2012
 tempAdvScheme=81,
# do not use salt for now
 saltStepping=.FALSE.,
 staggerTimeStep=.TRUE.,
# IO configuration
 useSingleCpuIO=.TRUE.,
 globalFiles=.FALSE.,
 &

# Elliptic solver parameters
 &PARM02
 cg2dMaxIters=1000,
 cg2dTargetResidual=1.E-9,
 cg3dMaxIters=100,
 cg3dTargetResidual=1.E-9,
 useSRCGSolver=.TRUE.,
 &

# Time stepping parameters
 &PARM03
# For pratical reasons, the model was not run for the entire year at once. 
# First, the model was run from 2020-08-20 11:00h until 2021-04-03 00:00h 
# With a timestep of 8 sec, we get the number of timesteps for the first run as
# --> nTimeSteps: ( np.datetime64("2021-04-03 00:00") - np.datetime64("2020-08-20 11:00",'s') )/8 = 2435850
# From there, the model was restarted twice using pickup files to cover the entire year 2021 --> adjust this file accordingly (e.g., nIter0, nTimeSteps, hydrogThetaFile).
 deltaT= !time_step!,
 startTime           = !start_time!
 endTime             = !end_time!
 abEps=0.1,

# Pickup/restart options. We will also quietly track the iteration number.
#nIter0              = 0
 writePickupAtEnd    = .TRUE.
 pickupSuff          = "!pickup_number!"

# permanent checkpoints every 10 days (864000 seconds)
 pChkptFreq=864000.0,
 chkptFreq=0.0,
 dumpFreq=0,
 monitorSelect=1,
 monitorFreq=3600.,
 &

# Gridding parameters
 &PARM04
 usingCartesianGrid=.TRUE.,
 dXspacing=!grid_resolution!,
 dYspacing=!grid_resolution!,
 delZ= !dz_grid!,
 &

# Input datasets
 &PARM05
 bathyFile           = "../binary_data/bathy.bin",
 hydrogThetaFile='',
 hydrogSaltFile='',
 uVelInitFile='',
 vVelInitFile='',
 zonalWindFile=,
 meridWindFile=,
 &
